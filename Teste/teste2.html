
<!DOCTYPE html>


<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
      
        <link href="http://blog.conradosaud.com.br/css/styleMain.css" rel="stylesheet" type="text/css"  media="all" />
        <link href='<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">' rel='stylesheet' type='text/css'>
		  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
       
		<script src="http://blog.conradosaud.com.br/js/jquery-3.2.0.min.js"></script>
        
      
       

        <title>Conrado Saud Programador</title>
    </head>
    <body>

      
        
       
        
                
		
               
             

	<div class="container">
			
			<div class="row">
				<div class="col-md-5 col-md-offset-1" style="background-color: white; padding: 10px; border-radius: 0px 0px 0px 10px">
					<label>Email</label>
					<input type="text" class="form-control campoDefault" placeholder="Este campo é fixo!"/>
					
					<div id="imendaHTMLemail"></div>
					
					<a href="#" id="btnAdicionaEmail" ><i class="fa fa-plus"></i> Adicionar mais um(a)</a>
				</div>
				
			</div>
			<div class="row text-center" style="margin-top: 15px;">
				<button class="btn btn-lg btn-primary" id="btnSalvar">Salvar formulário</button>
			</div>
	</div>


	

	
	
		
		
		<script>
		
			var idContador = 0;
			
			function exclui(id){
				var campo = $("#"+id.id);
				campo.hide(200);
			}
		
			$( document ).ready(function() {
				
				$("#btnAdicionaEmail").click(function(e){
					e.preventDefault();
					var tipoCampo = "email";
					adicionaCampo(tipoCampo);
				})
				
				$("#btnAdicionaTelefone").click(function(e){
					e.preventDefault();
					var tipoCampo = "telefone";
					adicionaCampo(tipoCampo);
				})
				
				function adicionaCampo(tipo){

					idContador++;
					
					var idCampo = "campoExtra"+idContador;
					var idForm = "formExtra"+idContador;
				
					var html = "";
					
					html += "<div style='margin-top: 8px;' class='input-group' id='"+idForm+"'>";
					html += "<input type='text' id='"+idCampo+"' class='form-control novoCampo' placeholder='Insira um "+tipo+"'/>";
					html += "<span class='input-group-btn'>";
					html +=	"<button class='btn' onclick='exclui("+idForm+")' type='button'><span class='fa fa-trash'></span></button>";
					html += "</span>";
					html += "</div>";
					
					$("#imendaHTML"+tipo).append(html);
				}
				
				$(".btnExcluir").click(function(){
					console.log("clicou");
					$(this).slideUp(200);
				})
				
				$("#btnSalvar").click(function(){
				
				var mensagem = "";
				var novosCampos = [];
				var camposNulos = false;
				
					$('.campoDefault').each(function(){
						if($(this).val().length < 1){
							camposNulos = true;
						}
					});
					$('.novoCampo').each(function(){
						if($(this).is(":visible")){
							if($(this).val().length < 1){
								camposNulos = true;
							}
							//novosCampos.push($(this).val());
							mensagem+= $(this).val()+"\n";
						}
					});
					
					if(camposNulos == true){
						alert("Atenção: existem campos nulos");
					}else{
						alert("Novos campos adicionados: \n\n "+mensagem);
					}
					
					novosCampos = [];
				})
				
			});
		
		</script>
		
		
		

    </body>
</html>
